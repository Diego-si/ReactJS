{"version":3,"sources":["services/axios.js","store/modules/auth/reducer.js","store/modules/rootReducer.js","store/modules/types.js","store/modules/auth/actions.js","services/history.js","store/modules/auth/sagas.js","store/modules/rootSaga.js","store/index.js","store/modules/reduxPersist.js","styles/GlobalStyles.js","config/colors.js","components/Header/styled.js","components/Header/index.js","routes/MyRoute.js","pages/Aluno/styled.js","components/Loading/styled.js","components/Loading/index.js","pages/Aluno/index.js","pages/Alunos/styled.js","pages/Alunos/index.js","pages/Fotos/styled.js","pages/Fotos/index.js","pages/Register/styled.js","pages/Register/index.js","pages/Login/styled.js","pages/Login/index.js","pages/Page404/index.js","routes/index.js","App.js","index.js"],"names":["axios","create","baseURL","initialState","isLoggedIn","token","user","isLoading","combineReducers","auth","state","action","type","newState","payload","defaults","headers","Authorization","nome","email","loginSuccess","loginFailure","registerRequest","registerFailure","registerUpdatedSuccess","registerCreatedSuccess","history","createBrowserHistory","loginRequest","call","post","response","put","actions","data","toast","success","push","prevPath","error","id","password","undefined","errors","get","length","map","all","takeLatest","rootSaga","reducers","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","persistReducer","key","storage","whitelist","applyMiddleware","run","persistor","persistStore","createGlobalStyle","Container","styled","section","Nav","nav","Header","dispatch","useDispatch","useSelector","to","size","onClick","e","preventDefault","color","MyRoute","Component","component","isClosed","rest","pathname","location","defaultProps","Form","form","ProfilePicture","div","Title","h1","Loading","Aluno","match","useState","setNome","sobrenome","setSobrenome","setEmail","idade","setIdade","peso","setPeso","altura","setAltura","foto","setFoto","setIsLoading","useEffect","a","Foto","status","getData","handleSubmit","formErrors","isEmail","isInt","String","isFloat","src","alt","onSubmit","value","onChange","target","placeholder","AlunoContainer","NovoAluno","Link","Alunos","alunos","setAlunos","handleDeleteAsk","currentTarget","nextSibling","setAttribute","remove","handleDelete","index","persist","delete","novosAlunos","splice","aluno","Fotos","url","display","cursor","React","handleChange","file","files","fotoURL","URL","createObjectURL","formData","FormData","append","htmlFor","Register","nomeStored","emailStored","setPassword","Login","props","Page404","Routes","exact","path","App","autoClose","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a61565e2.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'http://34.95.232.19',\n});\n","import * as types from '../types';\nimport axios from '../../../services/axios';\n\nconst initialState = {\n  isLoggedIn: false,\n  token: false,\n  user: {},\n  isLoading: false,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case types.LOGIN_SUCCESS: {\n      const newState = { ...state };\n      newState.isLoggedIn = true;\n      newState.token = action.payload.token;\n      newState.user = action.payload.user;\n      newState.isLoading = false;\n      return newState;\n    }\n    case types.LOGIN_FAILURE: {\n      delete axios.defaults.headers.Authorization;\n      const newState = { ...initialState };\n      return newState;\n    }\n    case types.LOGIN_REQUEST: {\n      const newState = { ...state };\n      newState.isLoading = true;\n      return newState;\n    }\n    case types.REGISTER_UPDATE_SUCCESS: {\n      const newState = { ...state };\n      newState.user.nome = action.payload.nome;\n      newState.user.email = action.payload.email;\n      newState.isLoading = false;\n      return newState;\n    }\n    case types.REGISTER_CREATED_SUCCESS: {\n      const newState = { ...state };\n      newState.isLoading = false;\n      return newState;\n    }\n    case types.REGISTER_FAILURE: {\n      const newState = { ...state };\n      newState.isLoading = false;\n      return newState;\n    }\n    case types.REGISTER_REQUEST: {\n      const newState = { ...state };\n      newState.isLoading = true;\n      return newState;\n    }\n    default: {\n      return state;\n    }\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport auth from './auth/reducer';\n\nexport default combineReducers({\n  auth,\n});\n","export const BOTAO_CLICADO_SUCCESS = 'BOTAO_CLICADO_SUCCESS';\nexport const BOTAO_CLICADO_REQUEST = 'BOTAO_CLICADO_REQUEST';\nexport const BOTAO_CLICADO_FAILURE = 'BOTAO_CLICADO_FAILURE';\n\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\n\nexport const REGISTER_REQUEST = 'REGISTER_REQUEST';\nexport const REGISTER_FAILURE = 'REGISTER_FAILURE';\nexport const REGISTER_UPDATE_SUCCESS = 'REGISTER_UPDATE_SUCCESS';\nexport const REGISTER_CREATED_SUCCESS = 'REGISTER_CREATED_SUCCESS';\n\nexport const PERSIST_REHYDRATE = 'persist/REHYDRATE';\n","import * as types from '../types';\n\nexport function loginRequest(payload) {\n  return {\n    type: types.LOGIN_REQUEST,\n    payload,\n  };\n}\n\nexport function loginSuccess(payload) {\n  return {\n    type: types.LOGIN_SUCCESS,\n    payload,\n  };\n}\n\nexport function loginFailure(payload) {\n  return {\n    type: types.LOGIN_FAILURE,\n    payload,\n  };\n}\n\nexport function registerRequest(payload) {\n  return {\n    type: types.REGISTER_REQUEST,\n    payload,\n  };\n}\n\nexport function registerFailure(payload) {\n  return {\n    type: types.REGISTER_FAILURE,\n    payload,\n  };\n}\n\nexport function registerUpdatedSuccess(payload) {\n  return {\n    type: types.REGISTER_UPDATE_SUCCESS,\n    payload,\n  };\n}\n\nexport function registerCreatedSuccess(payload) {\n  return {\n    type: types.REGISTER_CREATED_SUCCESS,\n    payload,\n  };\n}\n","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import { call, put, all, takeLatest } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { get } from 'lodash';\nimport * as actions from './actions';\nimport * as types from '../types';\nimport axios from '../../../services/axios';\nimport history from '../../../services/history';\n\nfunction* loginRequest({ payload }) {\n  try {\n    const response = yield call(axios.post, '/tokens', payload);\n    yield put(actions.loginSuccess({ ...response.data }));\n    toast.success('Você fez login');\n\n    axios.defaults.headers.Authorization = `Bearer ${response.data.token}`;\n    history.push(payload.prevPath);\n  } catch (e) {\n    toast.error('Usuário ou senha inválidos');\n\n    yield put(actions.loginFailure());\n  }\n}\n\nfunction persistRehydrate({ payload }) {\n  const token = get(payload, 'auth.token', '');\n  if (!token) return;\n  axios.defaults.headers.Authorization = `Bearer ${token}`;\n}\n// eslint-disable-next-line consistent-return\nfunction* registerRequest({ payload }) {\n  const { id, nome, email, password } = payload;\n\n  try {\n    if (id) {\n      yield call(axios.put, '/users', {\n        email,\n        nome,\n        password: password || undefined,\n      });\n      toast.success('Conta alterada com sucesso');\n      yield put(actions.registerUpdatedSuccess({ nome, email, password }));\n    } else {\n      yield call(axios.post, '/users', {\n        email,\n        nome,\n        password,\n      });\n      toast.success('Conta criada  com sucesso');\n      yield put(actions.registerCreatedSuccess({ nome, email, password }));\n      history.push('/login');\n    }\n  } catch (e) {\n    const errors = get(e, 'response.data.error', []);\n    const status = get(e, 'response.status', 0);\n\n    if (status === 401) {\n      toast.error('Você precisa fazer login novamente.');\n      yield put(actions.loginFailure());\n      return history.push('/login');\n    }\n\n    if (errors.length > 0) {\n      errors.map((error) => toast.error(error));\n    } else {\n      toast.error('Erro desconhecido');\n    }\n    yield put(actions.registerFailure());\n  }\n}\n\nexport default all([\n  takeLatest(types.LOGIN_REQUEST, loginRequest),\n  takeLatest(types.PERSIST_REHYDRATE, persistRehydrate),\n  takeLatest(types.REGISTER_REQUEST, registerRequest),\n]);\n","import { all } from 'redux-saga/effects';\n\nimport auth from './auth/sagas';\n\nexport default function* rootSaga() {\n  return yield all([auth]);\n}\n","import { persistStore } from 'redux-persist';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport persistedReducers from './modules/reduxPersist';\n\nimport rootReducer from './modules/rootReducer';\nimport rootSaga from './modules/rootSaga';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  persistedReducers(rootReducer),\n  applyMiddleware(sagaMiddleware)\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport const persistor = persistStore(store);\nexport default store;\n","import storage from 'redux-persist/lib/storage';\nimport { persistReducer } from 'redux-persist';\n\nexport default (reducers) => {\n  const persistedReducers = persistReducer(\n    {\n      key: 'COMSUMO-API',\n      storage,\n      whitelist: ['auth'],\n    },\n    reducers\n  );\n\n  return persistedReducers;\n};\n","import styled, { createGlobalStyle } from 'styled-components';\nimport * as colors from '../config/colors';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default createGlobalStyle`\n  *{\n    margin: 0;\n    padding: 0;\n    outline: none;\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: sans-serif;\n    background: ${colors.primaryDarkColor};\n    color: ${colors.primaryDarkColor};\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  button {\n    cursor: pointer;\n    background: ${colors.primaryColor};\n    border: none;\n    color: #fff;\n    padding: 10px 20px;\n    border-radius: 4px;\n    font-weight: 700;\n    transition: all 300ms;\n  }\n\n  button:hover {\n    filter: brightness(85%);\n  }\n\n  a {\n    text-decoration: none;\n    color: ${colors.primaryColor};\n  }\n\n  ul {\n    list-style:  none;\n  }\n\n  body .Toastify .Toastify__toast-container .Toastify__toast--success {\n    background: ${colors.successColor};\n  }\n  body .Toastify .Toastify__toast-container .Toastify__toast--error {\n    background: ${colors.errorColor};\n  }\n`;\n\nexport const Container = styled.section`\n  max-width: 480px;\n  background: #fff;\n  margin: 30px auto;\n  padding: 30px;\n  border-radius: 4px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n`;\n","export const primaryColor = '#C3073F';\nexport const primaryDarkColor = '#1A1A1D';\n\nexport const successColor = '#0197F6';\nexport const infoColor = '#0197F6';\nexport const errorColor = '#F2AF29';\nexport const warningColor = '#F2AF29';\n","import styled from 'styled-components';\nimport { primaryColor } from '../../config/colors';\n\nexport const Nav = styled.nav`\n  background: ${primaryColor};\n  padding: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  a {\n    color: #fff;\n    margin: 0 10px 0 0;\n    font-weight: bold;\n  }\n`;\n","import React from 'react';\nimport {\n  FaHome,\n  FaSignInAlt,\n  FaUserAlt,\n  FaCircle,\n  FaPowerOff,\n} from 'react-icons/fa';\n\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport * as actions from '../../store/modules/auth/actions';\nimport history from '../../services/history';\nimport { Nav } from './styled';\n\nexport default function Header() {\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    dispatch(actions.loginFailure());\n    history.push('/');\n  };\n\n  return (\n    <Nav>\n      <Link to=\"/\">\n        <FaHome size={24} />\n      </Link>\n      <Link to=\"/register\">\n        <FaUserAlt size={24} />\n      </Link>\n\n      {isLoggedIn ? (\n        <Link onClick={handleLogout} to=\"/logout\">\n          <FaPowerOff size={24} />\n        </Link>\n      ) : (\n        <Link to=\"/login\">\n          <FaSignInAlt size={24} />\n        </Link>\n      )}\n\n      {isLoggedIn && <FaCircle size={24} color=\"#66ff33\" />}\n    </Nav>\n  );\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\n\nexport default function MyRoute({ component: Component, isClosed, ...rest }) {\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n\n  if (isClosed && !isLoggedIn) {\n    return (\n      <Redirect\n        to={{ pathname: '/login', state: { prevPath: rest.location.pathname } }}\n      />\n    );\n  }\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <Route {...rest} component={Component} />;\n}\n\nMyRoute.defaultProps = {\n  isClosed: false,\n};\n\nMyRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.element, PropTypes.func])\n    .isRequired,\n  isClosed: PropTypes.bool,\n};\n","import styled from 'styled-components';\nimport * as colors from '../../config/colors';\n\nexport const Form = styled.form`\n  margin-top: 30px;\n  display: flex;\n  flex-direction: column;\n\n  input {\n    height: 40px;\n    margin-bottom: 20px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    padding: 0 10px;\n  }\n`;\n\nexport const ProfilePicture = styled.div`\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  padding: 0 0 20px;\n  position: relative;\n  margin-top: 20px;\n\n  img {\n    width: 180px;\n    height: 180px;\n    border-radius: 50%;\n  }\n\n  a {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    position: absolute;\n    bottom: 0;\n    color: #fff;\n    background: ${colors.primaryColor};\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n  }\n`;\n\nexport const Title = styled.h1`\n  text-align: center;\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  font-size: 30px;\n  div {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    background: rgba(0, 0, 0, 0.8);\n  }\n  span {\n    z-index: 2;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Container } from './styled';\n\nexport default function Loading({ isLoading }) {\n  if (!isLoading) return <></>;\n  return (\n    <Container>\n      <div />\n      <span>Carregando ...</span>\n    </Container>\n  );\n}\n\nLoading.defaultProps = {\n  isLoading: false,\n};\n\nLoading.propTypes = {\n  isLoading: PropTypes.bool,\n};\n","import React, { useState, useEffect } from 'react';\nimport { get } from 'lodash';\nimport { isEmail, isInt, isFloat } from 'validator';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { useDispatch } from 'react-redux';\nimport { FaUserCircle, FaEdit } from 'react-icons/fa';\nimport { Link } from 'react-router-dom';\n\nimport axios from '../../services/axios';\nimport history from '../../services/history';\nimport { Container } from '../../styles/GlobalStyles';\nimport { Form, ProfilePicture, Title } from './styled';\nimport Loading from '../../components/Loading';\nimport * as actions from '../../store/modules/auth/actions';\n\nexport default function Aluno({ match }) {\n  const dispatch = useDispatch();\n\n  const id = get(match, 'params.id', '');\n  const [nome, setNome] = useState('');\n  const [sobrenome, setSobrenome] = useState('');\n  const [email, setEmail] = useState('');\n  const [idade, setIdade] = useState('');\n  const [peso, setPeso] = useState('');\n  const [altura, setAltura] = useState('');\n  const [foto, setFoto] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    if (!id) return;\n\n    async function getData() {\n      try {\n        setIsLoading(true);\n        const { data } = await axios.get(`/alunos/${id}`);\n        const Foto = get(data, 'Fotos[0].url', '');\n\n        setFoto(Foto);\n\n        setNome(data.nome);\n        setSobrenome(data.sobrenome);\n        setEmail(data.email);\n        setIdade(data.idade);\n        setPeso(data.peso);\n        setAltura(data.altura);\n\n        setIsLoading(false);\n      } catch (err) {\n        setIsLoading(false);\n        const status = get(err, 'response.status', 0);\n        const errors = get(err, 'response.data.errors', []);\n\n        if (status === 400) errors.map((error) => toast.error(error));\n        history.push('/');\n      }\n    }\n    getData();\n  }, [id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    let formErrors = false;\n\n    if (nome.length < 3 || nome.length > 255) {\n      toast.error('Nome precisa ter entre 3 e 255 caracteres.');\n      formErrors = true;\n    }\n    if (sobrenome.length < 3 || sobrenome.length > 255) {\n      toast.error('Sobrenome precisa ter entre 3 e 255 caracteres.');\n      formErrors = true;\n    }\n    if (!isEmail(email)) {\n      toast.error('E-mail inválido');\n      formErrors = true;\n    }\n    if (!isInt(String(idade))) {\n      toast.error('Idade inválida');\n      formErrors = true;\n    }\n    if (!isFloat(String(peso))) {\n      toast.error('Peso inválida');\n      formErrors = true;\n    }\n    if (!isFloat(String(altura))) {\n      toast.error('Altura inválida');\n      formErrors = true;\n    }\n\n    if (formErrors) return;\n\n    try {\n      setIsLoading(true);\n\n      if (id) {\n        // editando aluno\n        await axios.put(`/alunos/${id}`, {\n          nome,\n          sobrenome,\n          email,\n          idade,\n          peso,\n          altura,\n        });\n        toast.success('Aluno(a) editado(a) com sucesso!');\n      } else {\n        // criando aluno\n        const { data } = await axios.post(`/alunos/`, {\n          nome,\n          sobrenome,\n          email,\n          idade,\n          peso,\n          altura,\n        });\n        toast.success('Aluno(a) criado(a) com sucesso!');\n        history.push(`/aluno/${data.id}/edit`);\n      }\n\n      setIsLoading(false);\n    } catch (err) {\n      const status = get(err, 'response.status', 0);\n      const data = get(err, 'response.data', {});\n      const errors = get(data, 'errors', []);\n\n      if (errors.length > 0) {\n        errors.map((error) => toast.error(error));\n      } else {\n        toast.error('Erro desconhecido');\n      }\n\n      if (status === 401) dispatch(actions.loginFailure());\n    }\n  };\n\n  return (\n    <Container>\n      <Loading isLoading={isLoading} />\n\n      <Title>{id ? 'Editar Aluno' : 'Novo Aluno'}</Title>\n\n      {id && (\n        <ProfilePicture>\n          {foto ? <img src={foto} alt={nome} /> : <FaUserCircle size={180} />}\n          <Link to={`/fotos/${id}`}>\n            <FaEdit size={24} />\n          </Link>\n        </ProfilePicture>\n      )}\n\n      <Form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={nome}\n          onChange={(e) => setNome(e.target.value)}\n          placeholder=\"Nome\"\n        />\n        <input\n          type=\"text\"\n          value={sobrenome}\n          onChange={(e) => setSobrenome(e.target.value)}\n          placeholder=\"Sobrenome\"\n        />\n        <input\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Email\"\n        />\n        <input\n          type=\"number\"\n          value={idade}\n          onChange={(e) => setIdade(e.target.value)}\n          placeholder=\"Idade\"\n        />\n        <input\n          type=\"text\"\n          value={peso}\n          onChange={(e) => setPeso(e.target.value)}\n          placeholder=\"Peso\"\n        />\n        <input\n          type=\"text\"\n          value={altura}\n          onChange={(e) => setAltura(e.target.value)}\n          placeholder=\"Altura\"\n        />\n\n        <button type=\"submit\">Enviar</button>\n      </Form>\n    </Container>\n  );\n}\n\nAluno.propTypes = {\n  match: PropTypes.shape({}).isRequired,\n};\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const AlunoContainer = styled.div`\n  margin-top: 20px;\n\n  div {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 5px 0;\n  }\n\n  div + div {\n    border-top: 1px solod #eee;\n  }\n`;\n\nexport const ProfilePicture = styled.div`\n  img {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n  }\n`;\n\nexport const NovoAluno = styled(Link)`\n  display: block;\n  padding: 20px 0 10px 0;\n`;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { get } from 'lodash';\nimport {\n  FaUserCircle,\n  FaEdit,\n  FaWindowClose,\n  FaExclamation,\n} from 'react-icons/fa';\n\nimport { toast } from 'react-toastify';\nimport { Container } from '../../styles/GlobalStyles';\nimport { AlunoContainer, ProfilePicture, NovoAluno } from './styled';\nimport axios from '../../services/axios';\n\nimport Loading from '../../components/Loading';\n\nexport default function Alunos() {\n  const [alunos, setAlunos] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    async function getData() {\n      setIsLoading(true);\n      const response = await axios.get('/alunos');\n      setAlunos(response.data);\n      setIsLoading(false);\n    }\n\n    getData();\n  }, []);\n\n  const handleDeleteAsk = (e) => {\n    e.preventDefault();\n    const exclamation = e.currentTarget.nextSibling;\n    exclamation.setAttribute('display', 'block');\n    e.currentTarget.remove();\n  };\n\n  const handleDelete = async (e, id, index) => {\n    e.persist();\n\n    try {\n      setIsLoading(true);\n      await axios.delete(`/alunos/${id}`);\n      const novosAlunos = [...alunos];\n      novosAlunos.splice(index, 1);\n      setAlunos(novosAlunos);\n      setIsLoading(false);\n    } catch (err) {\n      const status = get(err, 'response.status', 0);\n\n      if (status === 401) {\n        toast.error('Você precisa fazer login');\n      } else {\n        toast.error('Ocorreu um erro ao excluir aluno');\n      }\n\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Container>\n      <Loading isLoading={isLoading} />\n      <h1>Alunos</h1>\n\n      <NovoAluno to=\"/aluno/\">Novo Aluno</NovoAluno>\n\n      <AlunoContainer>\n        {alunos.map((aluno, index) => (\n          <div key={String(aluno.id)}>\n            <ProfilePicture>\n              {get(aluno, 'Fotos[0].url', false) ? (\n                <img src={aluno.Fotos[0].url} alt=\"\" />\n              ) : (\n                <FaUserCircle size={36} />\n              )}\n            </ProfilePicture>\n\n            <span>{aluno.nome}</span>\n            <span>{aluno.email}</span>\n\n            <Link to={`/aluno/${aluno.id}/edit`}>\n              <FaEdit size={16} />\n            </Link>\n\n            <Link onClick={handleDeleteAsk} to={`/aluno/${aluno.id}/delete`}>\n              <FaWindowClose size={16} />\n            </Link>\n\n            <FaExclamation\n              size={16}\n              display=\"none\"\n              cursor=\"pointer\"\n              onClick={(e) => handleDelete(e, aluno.id, index)}\n            />\n          </div>\n        ))}\n      </AlunoContainer>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\nimport * as colors from '../../config/colors';\n\nexport const Title = styled.h1`\n  text-align: center;\n`;\n\nexport const Form = styled.form`\n  label {\n    width: 180px;\n    height: 180px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #eee;\n    border: 5px dashed ${colors.primaryColor};\n    margin: 30px auto;\n    cursor: pointer;\n    border-radius: 50%;\n    overflow: hidden;\n\n    img {\n      width: 180px;\n      height: 180px;\n    }\n  }\n\n  input {\n    display: none;\n  }\n`;\n","import React from 'react';\nimport { get } from 'lodash';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\n\nimport { Container } from '../../styles/GlobalStyles';\nimport Loading from '../../components/Loading';\nimport { Title, Form } from './styled';\nimport axios from '../../services/axios';\nimport history from '../../services/history';\nimport * as actions from '../../store/modules/auth/actions';\n\nexport default function Fotos({ match }) {\n  const dispatch = useDispatch();\n  const id = get(match, 'params.id', '');\n\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [foto, setFoto] = React.useState('');\n\n  React.useEffect(() => {\n    const getData = async () => {\n      try {\n        setIsLoading(true);\n        const { data } = await axios.get(`/alunos/${id}`);\n        setFoto(get(data, 'Fotos[0].url', ''));\n        setIsLoading(false);\n      } catch {\n        toast.error('Erro ao obter imagem');\n        setIsLoading(false);\n        history.push('/');\n      }\n    };\n\n    getData();\n  }, [id]);\n\n  const handleChange = async (e) => {\n    const file = e.target.files[0];\n    const fotoURL = URL.createObjectURL(file);\n\n    setFoto(fotoURL);\n\n    const formData = new FormData();\n    formData.append('aluno_id', id);\n    formData.append('foto', file);\n\n    try {\n      setIsLoading(true);\n\n      await axios.post('/fotos/', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      toast.success('Foto enviada com sucesso!');\n\n      setIsLoading(false);\n    } catch (err) {\n      setIsLoading(false);\n      const { status } = get(err, 'response', '');\n      toast.error('Erro ao enviar foto.');\n\n      if (status === 401) dispatch(actions.loginFailure());\n    }\n  };\n\n  return (\n    <Container>\n      <Loading isLoading={isLoading} />\n\n      <Title>Fotos</Title>\n\n      <Form>\n        <label htmlFor=\"foto\">\n          {foto ? <img src={foto} alt=\"Foto\" /> : 'Selecionar'}\n          <input type=\"file\" id=\"foto\" onChange={handleChange} />\n        </label>\n      </Form>\n    </Container>\n  );\n}\n\nFotos.propTypes = {\n  match: PropTypes.shape({}).isRequired,\n};\n","import styled from 'styled-components';\nimport * as colors from '../../config/colors';\n\nexport const Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-top: 20px;\n\n  label {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 20px;\n  }\n\n  input {\n    height: 40px;\n    font-size: 18px;\n    border: 1px solid #ddd;\n    padding: 0 10px;\n    border-radius: 4px;\n    margin-top: 5px;\n\n    &:focus {\n      border: 1px solid ${colors.primaryColor};\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport { isEmail } from 'validator';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { Container } from '../../styles/GlobalStyles';\nimport { Form } from './styled';\nimport Loading from '../../components/Loading';\nimport * as actions from '../../store/modules/auth/actions';\n\nexport default function Register() {\n  const dispatch = useDispatch();\n  const id = useSelector((state) => state.auth.user.id);\n  const nomeStored = useSelector((state) => state.auth.user.nome);\n  const emailStored = useSelector((state) => state.auth.user.email);\n  const isLoading = useSelector((state) => state.auth.isLoading);\n\n  const [nome, setNome] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  React.useEffect(() => {\n    if (!id) return;\n\n    setNome(nomeStored);\n    setEmail(emailStored);\n  }, [emailStored, id, nomeStored]);\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let formErrors = false;\n\n    if (nome.length < 3 || nome.length > 255) {\n      formErrors = true;\n      toast.error('Nome deve ter entre 3 e 255 caracteres');\n    }\n\n    if (!isEmail(email)) {\n      formErrors = true;\n      toast.error('E-mail inválido');\n    }\n\n    if (!id && (password.length < 6 || password.length > 50)) {\n      formErrors = true;\n      toast.error('Senha deve ter entre 6 e 50 caracteres');\n    }\n\n    if (formErrors) return;\n\n    dispatch(actions.registerRequest({ nome, email, password, id }));\n  }\n\n  return (\n    <Container>\n      <Loading isLoading={isLoading} />\n      <h1>{id ? 'Editar dados' : 'Crie sua conta'}</h1>\n\n      <Form onSubmit={handleSubmit}>\n        <label htmlFor=\"nome\">\n          Nome:\n          <input\n            type=\"text\"\n            value={nome}\n            onChange={(e) => setNome(e.target.value)}\n            placeholder=\"Seu nome\"\n          />\n        </label>\n\n        <label htmlFor=\"email\">\n          E-mail:\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Seu email\"\n          />\n        </label>\n\n        <label htmlFor=\"senha\">\n          Senha:\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Sua senha\"\n          />\n        </label>\n\n        <button type=\"submit\">{id ? 'Salvar' : 'Criar conta'}</button>\n      </Form>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n\n  input {\n    margin-bottom: 20px;\n    height: 40px;\n    padding: 0 10px;\n    border-radius: 4px;\n    border: 1px solid #ddd;\n  }\n`;\n","import React from 'react';\nimport { toast } from 'react-toastify';\nimport { isEmail } from 'validator';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { get } from 'lodash';\n\nimport { Container } from '../../styles/GlobalStyles';\nimport { Form } from './styled';\nimport * as actions from '../../store/modules/auth/actions';\n\nimport Loading from '../../components/Loading';\n\nexport default function Login(props) {\n  const dispatch = useDispatch();\n\n  const prevPath = get(props, 'location.state.prevPath', '/');\n\n  const isLoading = useSelector((state) => state.auth.isLoading);\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    let formErrors = false;\n\n    if (!isEmail(email)) {\n      formErrors = true;\n      toast.error('E-mail inválido');\n    }\n\n    if (password.length < 6 || password.length > 50) {\n      formErrors = true;\n      toast.error('Senha inválida');\n    }\n\n    if (formErrors) return;\n\n    dispatch(actions.loginRequest({ email, password, prevPath }));\n  };\n\n  return (\n    <Container>\n      <Loading isLoading={isLoading} />\n      <h1>Login</h1>\n      <Form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Seu e-mail\"\n        />\n\n        <input\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Sua senha\"\n        />\n        <button type=\"submit\">Acessar</button>\n      </Form>\n    </Container>\n  );\n}\n","import React from 'react';\n\nimport { Container } from '../../styles/GlobalStyles';\n\nexport default function Page404() {\n  return (\n    <Container>\n      <h1>Essa página não existe</h1>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport MyRoute from './MyRoute';\n\nimport Aluno from '../pages/Aluno';\nimport Alunos from '../pages/Alunos';\nimport Fotos from '../pages/Fotos';\nimport Register from '../pages/Register';\nimport Login from '../pages/Login';\nimport Page404 from '../pages/Page404';\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <MyRoute exact path=\"/\" component={Alunos} isClosed={false} />\n      <MyRoute exact path=\"/aluno/:id/edit\" component={Aluno} isClosed />\n      <MyRoute exact path=\"/aluno/\" component={Aluno} isClosed />\n      <MyRoute exact path=\"/fotos/:id\" component={Fotos} isClosed />\n      <MyRoute exact path=\"/login/\" component={Login} isClosed={false} />\n      <MyRoute exact path=\"/register/\" component={Register} isClosed={false} />\n      <MyRoute path=\"*\" component={Page404} />\n    </Switch>\n  );\n}\n","import React from 'react';\nimport { Router } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport store, { persistor } from './store';\nimport history from './services/history';\nimport GlobalStyle from './styles/GlobalStyles';\nimport Header from './components/Header';\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <PersistGate persistor={persistor}>\n        <Router history={history}>\n          <Header />\n          <Routes />\n          <GlobalStyle />\n          <ToastContainer autoClose={3000} className=\"toast-container\" />\n        </Router>\n      </PersistGate>\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}